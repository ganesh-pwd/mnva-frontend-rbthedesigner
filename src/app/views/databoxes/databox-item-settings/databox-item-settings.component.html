<br>
<div class="m-333" fxLayout="row" fxLayoutWrap="wrap" *ngIf="databoxItemData?.folder">
	<div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" >
		<h1 class="mat-h1">
			<!-- <mat-icon>widgets</mat-icon>-->
			{{databoxItemData?.databox_name}} 
			<small>
				<mat-icon (click)="openDialog('Edit Databox Name', 'Databox Name', true, '')">edit</mat-icon> |
				<span class="main-route">
					<a routerLink="/databoxes/">Databoxes </a> /
					<a (click)="navigateToDatabox(databoxItemData?.folder, databoxItemData?._id, databoxItemData?.first_create)">
					{{databoxItemData?.databox_name}}</a>
				</span> /
				Edit Query
			</small>
		</h1>
	</div>
</div>
<div class="m-333" fxLayout="row" fxLayoutWrap="wrap" #databoxesButtonID>
	<button mat-raised-button
	class="mb-05"
	color="primary"
	(click)="navigateToDatabox(data?.folder, data?._id, data?.first_create)">
	Back to Databox
	</button>
</div>
<hr>
<br>

<!-- <div fxLayout="row" fxLayoutWrap="wrap">
	<div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" fxLayoutAlign="center">
		<div class="text-center" >
			<mat-radio-group value="1" id="settings-radio">
				<mat-radio-button value="1"
					routerLink="/databoxes/settings/{{data?._id}}">
					Configuration
				</mat-radio-button>
				-------------
				<mat-radio-button value="2"
					routerLink="/databoxes/settings/query/{{data?._id}}">
					Query
				</mat-radio-button>
				-------------
				<mat-radio-button value="3"
					routerLink="/databoxes/settings/algorithm/{{data?._id}}">
					Algorithms
				</mat-radio-button>
			</mat-radio-group>
		</div>
	</div>
</div> -->

<div fxLayout="row" fxLayoutWrap="wrap">
	<div fxLayout="column" fxFlex="100" fxFlex.gt-md="50" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
		<div class="m-333 settings" fxLayout="row" fxLayoutWrap="wrap">
			<h1 class="mat-h1 mat-color-primary">Query Editor</h1>
		</div>
		<!-- Change Datasource & Country -->
		<div fxLayout="row" fxLayoutWrap="wrap" >
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="50" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<mat-card-header>
						<mat-card-title class="mat-color-primary">
							<span>Change Datasource</span>
						</mat-card-title>
					</mat-card-header>

					<mat-divider></mat-divider>
					<mat-card-content>
						<br>
						<form>
							<mat-form-field class="full-width">
								<mat-select [(value)]="selectedDatasource" (selectionChange)="selectDatasource()">
								<mat-option *ngFor="let singleDatasource of datasource" [value]="singleDatasource.name">
								{{ singleDatasource.name }}
								</mat-option>
								</mat-select>
							</mat-form-field>
						</form>
					</mat-card-content>
				</mat-card>
			</div>
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="50" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<mat-card-header>
						<mat-card-title class="mat-color-primary">
							<span>Change Country</span>
						</mat-card-title>
					</mat-card-header>

					<mat-divider></mat-divider>
					<mat-card-content>
					<br>
					<form>
						<mat-form-field class="full-width">
						  	<mat-select value="Costa Rica">
							    <mat-option *ngFor="let country of countries" [value]="country.name">
							      {{country.name}}
							    </mat-option>
						  	</mat-select>
						</mat-form-field>
					</form>
					</mat-card-content>
				</mat-card>
			</div>
		</div>
		<!-- Query Editor -->
		<div fxLayout="row" fxLayoutWrap="wrap" >
			<div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<mat-card-header>
						<mat-card-title class="mat-color-primary">
							<span>Query</span>
						</mat-card-title>
					</mat-card-header>
					<mat-divider></mat-divider>
					<br>
					<!--Query Menu -->
					<div fxLayout="row" fxLayoutWrap="wrap" >
			      	    <button mat-raised-button mat-color-primary class="query_type">Basic Query</button>
			            <button mat-raised-button class="query_type">Advanced Query</button>
					</div>
					<!--Basic Query Editor -->					
					<mat-card-content>
						<br>
						<div fxLayout="row" fxLayoutWrap="wrap" >
							<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
							    <b class="mt-1">Optional Keywords</b>
							    <p class="mt-1">Your Databox will collect mentions that contain at least one of these keywords, plus all required keywords.</p>
						    	<form>
						    		<mat-form-field style="border: 1px solid gray;" class="full-width">
						    			<div class="p-1">
				                      		<textarea matInput rows="10" cols="80" value="{{editorData}}"></textarea>
				                      	</div>	
						    		</mat-form-field>
						    	</form>
							</div>
						</div>
						<div fxLayout="row" fxLayoutWrap="wrap" >
							<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
							    <b class="mt-1">Required Keywords</b>
							    <p class="mt-1">Your Databox will collect mentions that contain all of these keywords.</p>
						    	<form>
						    		<mat-form-field style="border: 1px solid gray;" class="full-width">
						    			<div class="p-1">
				                      		<textarea matInput rows="10" cols="80" value="{{editorData}}"></textarea>
				                      	</div>
						    		</mat-form-field>
						    	</form>
							</div>
						</div>
						<div fxLayout="row" fxLayoutWrap="wrap" >
							<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
							    <b class="mt-1">Exclude Keywords</b>
							    <p class="mt-1">Your Databox will not bring in mentions any of the following keywords.</p>
						    	<form>
						    		<mat-form-field style="border: 1px solid gray;" class="full-width">
						    			<div class="p-1">
				                      		<textarea matInput rows="10" cols="80" value="{{editorData}}"></textarea>
				                      	</div>
						    		</mat-form-field>
						    	</form>						    	
							</div>
						</div>													
					</mat-card-content>
                    <!--Avanced Query Editor -->
                    <mat-card-content>
                        <div fxLayout="row" fxLayoutWrap="wrap">
                            <div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}" fxLayoutAlign="center">
                                <mat-card-header>
                                  <mat-card-title class="mat-color-primary">
                                    <span>Advanced Query</span>
                                  </mat-card-title>
                                  <mat-card-subtitle>
                                    <p>Lorem ipsum dolor sit amet, et vel error viris democritum, ei duo sumo tota albucius. Sumo atqui ut eam, mel recteque omittantur definitionem et, meliore intellegebat an cum. Vim falli insolens persequeris no. Eu pri aeque semper, dicunt malorum reprehendunt ex mea, viderer inimicus vim ne. Cu causae impetus eam, et atqui tibique consectetuer nam, in erroribus incorrupte vim. Ea voluptua eloquentiam has.</p>
                                  </mat-card-subtitle>
                                </mat-card-header>
                                <mat-divider></mat-divider>
                                <br>
                                <mat-card-content>
                                    <div fxLayout="row" fxLayoutWrap="wrap" class="query-inner">
                                        <div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}" fxLayoutAlign="center">
                                            <mat-card class="p-0">
                                                <mat-card-content class="p-0">
                                                    <form>
                                                        <mat-form-field class="full-width">
                                                          <textarea matInput placeholder="Query" rows="10" cols="80" value="{{editorData}}"></textarea>
                                                        </mat-form-field>
                                                    </form>
                                                </mat-card-content>
                                                <div class="text-muted query-help">
                                                    <mat-icon class="query-icon">remove_red_eye</mat-icon>
                                                    <a>Show Simple Example</a>
                                                    <mat-icon class="query-icon">remove_red_eye</mat-icon>
                                                    <a>Show Complex Example</a>
                                                    <mat-icon class="query-icon">help_outline</mat-icon>
                                                    <a>Need More Help?</a>
                                                </div>
                                            </mat-card>
                                        </div>
                                    </div>
                                    <div fxLayout="row" fxLayoutWrap="wrap">
                                        <div fxLayout="column" fxFlex="100" fxFlex.gt-md="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}" fxLayoutAlign="center">
                                            <mat-card class="query-right-side">
                                                <mat-card-content>
                                                    <h3 class="mat-h3">Boolean Operations: Booleans help you create your query.</h3>
                                                    <p class="mat-color-primary query-info"matTooltip="OR operators are used to expand your query. For example: car OR bus OR train">OR = OR's help you expand your query
                                                    </p>
                                                    <p class="mat-color-primary query-info"matTooltip="AND operators are used to expand your query. For example: car AND bus AND train">AND = AND's help you be more exact
                                                    </p>
                                                    <p class="mat-color-primary query-info"matTooltip="NOT operators are used to expand your query. For example: car NOT bus NOT train">NOT = NOT's help you exclude information
                                                    </p>
                                                </mat-card-content>
                                            </mat-card>
                                        </div>
                                    </div>
                                </mat-card-content>
                            </div>
                        </div>
                    </mat-card-content>
				</mat-card>
			</div>	
		</div>
		<div class="m-333" fxLayout="row" fxLayoutWrap="wrap" >
  	      	<span fxFlex></span>
		  	<button mat-raised-button class="mb-05 mat-bg-success">
		    Test Query
		  	</button>
		</div>		
	</div>
	<!-- Column2 -->
	<div fxLayout="column" fxFlex="100" fxFlex.gt-md="50" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
		<div class="m-333 settings" fxLayout="row" fxLayoutWrap="wrap">
			<h1 class="mat-h1 mat-color-primary">Results Preview</h1>
		</div>
		<div fxLayout="row" fxLayoutWrap="wrap" >
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="33.2" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<div style="text-align: center;">
						<mat-card-title class="mat-color-primary">
							<span>Total Results</span>
						</mat-card-title>
					</div>
					<mat-divider></mat-divider>					
					<mat-card-content style="padding: 25px 0; text-align: center;">
						<span style="font-weight: 600; font-size: 18px;" class="mat-h3 mat-color-primary">
							1250
						</span>
					</mat-card-content>
				</mat-card>
			</div>
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="33.2" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<div style="text-align: center;">
						<mat-card-title class="mat-color-primary">
							<span>Daily Average</span>
						</mat-card-title>
					</div>

					<mat-divider></mat-divider>				
					<mat-card-content style="padding: 25px 0; text-align: center;">
						<span style="font-weight: 600; font-size: 18px;" class="mat-h3 mat-color-primary">
							1250
						</span>
					</mat-card-content>
				</mat-card>
			</div>
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="33.2" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
					<div style="text-align: center;">
						<mat-card-title class="mat-color-primary">
							<span>Mentions Remaining</span>
						</mat-card-title>
					</div>
					
					<mat-divider></mat-divider>							
					<mat-card-content style="padding: 25px 0; text-align: center;">
						<span style="font-weight: 600; font-size: 18px;" class="mat-h3 mat-color-primary">
							1250
						</span>
					</mat-card-content>
				</mat-card>
			</div>
		</div>
		<!-- Line Chart -->
		<div fxLayout="row" fxLayoutWrap="wrap" >
			<div fxFlex="100" fxFlex.gt-sm="100">
				<mat-card class="p-0">
				  <mat-card-content>
				    <canvas 
				      baseChart 
				      class="chart"
				      [datasets]="lineChartData"
				      [labels]="lineChartLabels"
				      [options]="lineChartOptions"
				      [colors]="chartColors"
				      [legend]="lineChartLegend"
				      [chartType]="lineChartType"></canvas>
				  </mat-card-content>
				</mat-card>
			</div>
		</div>
		<div style="position: -webkit-sticky; position: sticky;top: 0;" fxLayout="row" fxLayoutWrap="wrap" >
			<div fxLayout="column" fxFlex="100" fxFlex.gt-sm="100" [@animate]="{value:'*', params:{ y:'200px', delay:'400ms' }}">
				<mat-card>
	                <mat-card-title>
	                  <h3 class="mat-h3 mat-color-primary">Results</h3>
	                </mat-card-title>
	                <mat-divider></mat-divider>
	                <mat-card-content>
	                </mat-card-content>	                
				</mat-card>
			</div>			
		</div>		
	</div>
</div>
<br>
<mat-divider></mat-divider><br>
<div class="buttonRow m-333" fxLayout="row" fxLayoutWrap="wrap">
  	<button mat-raised-button
    class="mb-05"
    (click)="openDialog('Exit without saving changes?', 'Lorem ipsum dolor sit amet, veri modus conceptam mel cu, has in dictas discere qualisque, saperet ullamcorper ad eum. Lorem ipsum dolor sit amet, veri modus conceptam mel cu, has in dictas discere qualisque, saperet ullamcorper ad eum.', false, '')">
    Cancel
  	</button>
  	<button mat-raised-button
    class="mb-05 mat-bg-gray"
    (click)="openDialog('Save as Draft', 'Lorem ipsum dolor sit amet, veri modus conceptam mel cu, has in dictas discere qualisque, saperet ullamcorper ad eum. Lorem ipsum dolor sit amet, veri modus conceptam mel cu, has in dictas discere qualisque, saperet ullamcorper ad eum.', false, '')">
    Save as Draft
  	</button>
  	<button mat-raised-button
    class="mb-05 mat-bg-green"
    (click)="openMentionsDialog('Create Databox')">
    Create Databox
	</button>
</div>
<br><br>
